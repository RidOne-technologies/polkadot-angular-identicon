{"version":3,"file":"polkadot-angular-identicon.js","sources":["../../../projects/polkadot-angular-identicon/src/lib/constants.ts","../../../projects/polkadot-angular-identicon/src/lib/render-helper.ts","../../../projects/polkadot-angular-identicon/src/lib/polkadot-angular-identicon.component.ts","../../../projects/polkadot-angular-identicon/src/lib/polkadot-angular-identicon.module.ts","../../../projects/polkadot-angular-identicon/src/polkadot-angular-identicon.ts"],"sourcesContent":["export const DEFAULT_SIZE = 64;\nexport const DEFAULT_THEME= 'polkadot';\nexport const DEFAULT_ADDRESS = \"\"\nexport enum THEMES_ENUM {\n    POLKADOT= 'polkadot',\n    BEACHBALL= 'beachball',\n    JDENTICON = 'jdenticon',\n    EMPTY = 'empty'\n}","import { polkadotIcon, beachballIcon } from '@polkadot/ui-shared/icons';\nimport { Circle } from '@polkadot/ui-shared/icons/types';\nimport * as jdenticon from 'jdenticon';\n\nimport { DEFAULT_SIZE, THEMES_ENUM } from './constants';\n\nexport class RenderHelper {\n\n  /// Function that choose render function according to which parameters are passed\n  static pickRenderFunction(address: string, theme: string, size: number = DEFAULT_SIZE): string {\n    if (address) {\n      switch (theme) {\n        case THEMES_ENUM.POLKADOT:\n          return this.renderPolkadotIdenticon(address, '', false, size, '');\n\n        case THEMES_ENUM.BEACHBALL:\n          return this.renderBeachballIdenticon(address, false, size);\n\n        case THEMES_ENUM.JDENTICON:\n          return this.renderJidenticon(address, size);\n\n        default:\n          return this.renderEmptyIdenticon(size);\n      }\n    } else {\n      return this.renderEmptyIdenticon(size)\n    }\n\n  }\n\n  /// function called when the polkadot theme is passed. This function renders the circle with a color\n  static renderCircle({ cx, cy, fill, r }: Circle, key: number) {\n    let svg = `<svg viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle cx=\"${cx}\"  cy=\"${cy}\" fill=\"${fill}\"  r=\"${r}\" />\n                </svg>`;\n    return svg;\n  }\n\n  /// This function renders the polkadot identicon when the polkadot theme is passed\n  static renderPolkadotIdenticon(address: string, className = '', isAlternative = false, size: number, style: string) {\n    return `<svg\n            height=${size}\n            viewBox='0 0 64 64'\n            width=${size}>\n            ${polkadotIcon(address, { isAlternative }).map(this.renderCircle).join('')}\n            </svg>`;\n\n  }\n\n\n  /// This function renders the beachball identicon when the beachball theme is passed\n  static renderBeachballIdenticon(address: string, isAlternative = false, size: number): string {\n    let generatedBeachballIcon =\n      beachballIcon(address,\n        { isAlternative: isAlternative, size },\n      );\n    return generatedBeachballIcon.innerHTML;\n  }\n\n  /// This empty identicon will be diplayed if a wrong Substrate address is passed\n  static renderEmptyIdenticon(size: number): string {\n    return `<div>\n              <svg :height=\"size\" viewBox=\"0 0 64 64\" :width=\"size\" >\n                <circle cx=\"50%\" cy=\"50%\" fill=\"#eee\" r=\"50%\" />\n              </svg>\n            </div>`;\n  }\n\n  /// This function renders the jdenticon identicon when the jdenticon theme is passed\n  static renderJidenticon(address: string, size: number) {\n    return jdenticon.toSvg(address, size);\n  }\n\n  /// This helper function picks the theme according to the passed parameters\n  ///\n  static themeFilter(theme?: string): string {\n    if (theme === THEMES_ENUM.POLKADOT || !theme) {\n      return THEMES_ENUM.POLKADOT\n    } else if (theme === THEMES_ENUM.BEACHBALL) {\n      return THEMES_ENUM.POLKADOT\n    } else if (theme === THEMES_ENUM.JDENTICON) {\n      return THEMES_ENUM.JDENTICON\n    } else {\n      return THEMES_ENUM.EMPTY\n    }\n  }\n}","import { Component, Input, OnInit } from \"@angular/core\";\nimport { DomSanitizer, SafeHtml } from \"@angular/platform-browser\";\nimport { RenderHelper } from \"./render-helper\";\nimport { DEFAULT_SIZE } from \"./constants\";\n@Component({\n  selector: \"polkadot-angular-identicon\",\n  template: `<div [innerHTML]=\"iconHTML\" [ngStyle]=\"getStyle()\"></div>`,\n  styles: [],\n})\nexport class PolkadotIdentIconComponent implements OnInit {\n  @Input() address?: string;\n  @Input() size?: number = DEFAULT_SIZE;\n  @Input() theme?: string = \"polkadot\";\n  iconHTML?: SafeHtml;\n  constructor(private sanitizer: DomSanitizer) {}\n  ngOnInit(): void {\n    this.iconHTML = this.sanitizer.bypassSecurityTrustHtml(\n      RenderHelper.pickRenderFunction(this.address, this.theme, this.size)\n    );\n  }\n  getStyle() {\n    return {\n      width: this.size + \"px\",\n      height: this.size + \"px\",\n    };\n  }\n}\n","import { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { PolkadotIdentIconComponent } from \"./polkadot-angular-identicon.component\";\n\n@NgModule({\n  declarations: [PolkadotIdentIconComponent],\n  imports: [CommonModule, BrowserModule],\n  exports: [PolkadotIdentIconComponent],\n})\nexport class PolkadotIdentIconModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["jdenticon.toSvg"],"mappings":";;;;;;AAAO,MAAM,YAAY,GAAG,EAAE,CAAC;AACxB,MAAM,aAAa,GAAE,UAAU,CAAC;AAChC,MAAM,eAAe,GAAG,EAAE,CAAA;AACjC,IAAY,WAKX;AALD,WAAY,WAAW;IACnB,oCAAoB,CAAA;IACpB,sCAAsB,CAAA;IACtB,sCAAuB,CAAA;IACvB,8BAAe,CAAA;AACnB,CAAC,EALW,WAAW,KAAX,WAAW;;MCGV,YAAY;;IAGvB,OAAO,kBAAkB,CAAC,OAAe,EAAE,KAAa,EAAE,OAAe,YAAY;QACnF,IAAI,OAAO,EAAE;YACX,QAAQ,KAAK;gBACX,KAAK,WAAW,CAAC,QAAQ;oBACvB,OAAO,IAAI,CAAC,uBAAuB,CAAC,OAAO,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;gBAEpE,KAAK,WAAW,CAAC,SAAS;oBACxB,OAAO,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;gBAE7D,KAAK,WAAW,CAAC,SAAS;oBACxB,OAAO,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;gBAE9C;oBACE,OAAO,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;aAC1C;SACF;aAAM;YACL,OAAO,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAA;SACvC;KAEF;;IAGD,OAAO,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,EAAU,EAAE,GAAW;QAC1D,IAAI,GAAG,GAAG;8BACgB,EAAE,UAAU,EAAE,WAAW,IAAI,SAAS,CAAC;uBAC9C,CAAC;QACpB,OAAO,GAAG,CAAC;KACZ;;IAGD,OAAO,uBAAuB,CAAC,OAAe,EAAE,SAAS,GAAG,EAAE,EAAE,aAAa,GAAG,KAAK,EAAE,IAAY,EAAE,KAAa;QAChH,OAAO;qBACU,IAAI;;oBAEL,IAAI;cACV,YAAY,CAAC,OAAO,EAAE,EAAE,aAAa,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC;mBACnE,CAAC;KAEjB;;IAID,OAAO,wBAAwB,CAAC,OAAe,EAAE,aAAa,GAAG,KAAK,EAAE,IAAY;QAClF,IAAI,sBAAsB,GACxB,aAAa,CAAC,OAAO,EACnB,EAAE,aAAa,EAAE,aAAa,EAAE,IAAI,EAAE,CACvC,CAAC;QACJ,OAAO,sBAAsB,CAAC,SAAS,CAAC;KACzC;;IAGD,OAAO,oBAAoB,CAAC,IAAY;QACtC,OAAO;;;;mBAIQ,CAAC;KACjB;;IAGD,OAAO,gBAAgB,CAAC,OAAe,EAAE,IAAY;QACnD,OAAOA,KAAe,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;KACvC;;;IAID,OAAO,WAAW,CAAC,KAAc;QAC/B,IAAI,KAAK,KAAK,WAAW,CAAC,QAAQ,IAAI,CAAC,KAAK,EAAE;YAC5C,OAAO,WAAW,CAAC,QAAQ,CAAA;SAC5B;aAAM,IAAI,KAAK,KAAK,WAAW,CAAC,SAAS,EAAE;YAC1C,OAAO,WAAW,CAAC,QAAQ,CAAA;SAC5B;aAAM,IAAI,KAAK,KAAK,WAAW,CAAC,SAAS,EAAE;YAC1C,OAAO,WAAW,CAAC,SAAS,CAAA;SAC7B;aAAM;YACL,OAAO,WAAW,CAAC,KAAK,CAAA;SACzB;KACF;;;MC5EU,0BAA0B;IAKrC,YAAoB,SAAuB;QAAvB,cAAS,GAAT,SAAS,CAAc;QAHlC,SAAI,GAAY,YAAY,CAAC;QAC7B,UAAK,GAAY,UAAU,CAAC;KAEU;IAC/C,QAAQ;QACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,uBAAuB,CACpD,YAAY,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CACrE,CAAC;KACH;IACD,QAAQ;QACN,OAAO;YACL,KAAK,EAAE,IAAI,CAAC,IAAI,GAAG,IAAI;YACvB,MAAM,EAAE,IAAI,CAAC,IAAI,GAAG,IAAI;SACzB,CAAC;KACH;;;YArBF,SAAS,SAAC;gBACT,QAAQ,EAAE,4BAA4B;gBACtC,QAAQ,EAAE,2DAA2D;aAEtE;;;YAPQ,YAAY;;;sBASlB,KAAK;mBACL,KAAK;oBACL,KAAK;;;MCFK,uBAAuB;;;YALnC,QAAQ,SAAC;gBACR,YAAY,EAAE,CAAC,0BAA0B,CAAC;gBAC1C,OAAO,EAAE,CAAC,YAAY,EAAE,aAAa,CAAC;gBACtC,OAAO,EAAE,CAAC,0BAA0B,CAAC;aACtC;;;ACTD;;;;;;"}